



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Batch Jobs - DART Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.0284f74d.css">
      
      
    
    
      <script src="../../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#batch-jobs" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../.." title="DART Documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              DART Documentation
            </span>
            <span class="md-header-nav__topic">
              
                Batch Jobs
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/APTrust/dart/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../.." title="DART Documentation" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    DART Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/APTrust/dart/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      For Users
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        For Users
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting_started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      Jobs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        Jobs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../jobs/" title="Jobs" class="md-nav__link">
      Jobs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../jobs/list/" title="Listing Jobs" class="md-nav__link">
      Listing Jobs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../jobs/files/" title="Adding Files" class="md-nav__link">
      Adding Files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../jobs/packaging/" title="Packaging" class="md-nav__link">
      Packaging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../jobs/metadata/" title="Metadata" class="md-nav__link">
      Metadata
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../jobs/upload/" title="Uploads" class="md-nav__link">
      Uploads
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../jobs/run/" title="Run Your Job" class="md-nav__link">
      Run Your Job
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../jobs/delete/" title="Deleting Jobs" class="md-nav__link">
      Deleting Jobs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../jobs/validation/" title="Validation Jobs" class="md-nav__link">
      Validation Jobs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../jobs/troubleshooting/" title="Troubleshooting Jobs" class="md-nav__link">
      Troubleshooting Jobs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3" checked>
    
    <label class="md-nav__link" for="nav-2-3">
      Workflows
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        Workflows
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Workflows" class="md-nav__link">
      Workflows
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../job_params/" title="Job Params" class="md-nav__link">
      Job Params
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Batch Jobs
      </label>
    
    <a href="./" title="Batch Jobs" class="md-nav__link md-nav__link--active">
      Batch Jobs
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#batch-spreadsheet-requirements" title="Batch Spreadsheet Requirements" class="md-nav__link">
    Batch Spreadsheet Requirements
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-spreadsheet" title="Example Spreadsheet" class="md-nav__link">
    Example Spreadsheet
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-a-batch-job" title="Running a Batch Job" class="md-nav__link">
    Running a Batch Job
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes-on-batch-jobs" title="Notes on Batch Jobs" class="md-nav__link">
    Notes on Batch Jobs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-problems" title="Common Problems" class="md-nav__link">
    Common Problems
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      Settings
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        Settings
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../settings/" title="Settings" class="md-nav__link">
      Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../settings/app_settings/" title="App Settings" class="md-nav__link">
      App Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../settings/internal_settings/" title="Internal Settings" class="md-nav__link">
      Internal Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../settings/remote_repositories/" title="Remote Repositories" class="md-nav__link">
      Remote Repositories
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../settings/storage_services/" title="Storage Services" class="md-nav__link">
      Storage Services
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../settings/plugins/" title="Plugins" class="md-nav__link">
      Plugins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../settings/export/" title="Exporting Settings" class="md-nav__link">
      Exporting Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../settings/import/" title="Importing Settings" class="md-nav__link">
      Importing Settings
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../dashboard/" title="Dashboard" class="md-nav__link">
      Dashboard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-6" type="checkbox" id="nav-2-6">
    
    <label class="md-nav__link" for="nav-2-6">
      BagIt Profiles
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-6">
        BagIt Profiles
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../bagit/" title="BagIt Profiles" class="md-nav__link">
      BagIt Profiles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../bagit/importing/" title="Importing Profiles" class="md-nav__link">
      Importing Profiles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../bagit/exporting/" title="Exporting Profiles" class="md-nav__link">
      Exporting Profiles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../bagit/creating/" title="Creating Profiles" class="md-nav__link">
      Creating Profiles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../bagit/customizing/" title="Customizing Profiles" class="md-nav__link">
      Customizing Profiles
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../command_line/" title="Command Line Reference" class="md-nav__link">
      Command Line Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../scripting/" title="Scripting with DART" class="md-nav__link">
      Scripting with DART
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../logs/" title="Logs" class="md-nav__link">
      Logs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      For Developers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        For Developers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developers/" title="Developer's Guide to DART" class="md-nav__link">
      Developer's Guide to DART
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developers/architecture/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developers/data_storage/" title="Data Storage" class="md-nav__link">
      Data Storage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developers/job_flow/" title="Job Flow" class="md-nav__link">
      Job Flow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developers/building/" title="Building" class="md-nav__link">
      Building
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developers/testing/" title="Testing" class="md-nav__link">
      Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developers/documenting/" title="Documenting" class="md-nav__link">
      Documenting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developers/logging/" title="Logging" class="md-nav__link">
      Logging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-9" type="checkbox" id="nav-3-9">
    
    <label class="md-nav__link" for="nav-3-9">
      Plugins
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-9">
        Plugins
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developers/plugins/" title="Plugins" class="md-nav__link">
      Plugins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developers/plugins/manager/" title="Plugin Manager" class="md-nav__link">
      Plugin Manager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developers/plugins/format_readers/" title="Format Readers" class="md-nav__link">
      Format Readers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developers/plugins/format_writers/" title="Format Writers" class="md-nav__link">
      Format Writers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developers/plugins/network_clients/" title="Network Clients" class="md-nav__link">
      Network Clients
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developers/plugins/repo_clients/" title="Repository Clients" class="md-nav__link">
      Repository Clients
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#batch-spreadsheet-requirements" title="Batch Spreadsheet Requirements" class="md-nav__link">
    Batch Spreadsheet Requirements
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-spreadsheet" title="Example Spreadsheet" class="md-nav__link">
    Example Spreadsheet
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-a-batch-job" title="Running a Batch Job" class="md-nav__link">
    Running a Batch Job
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes-on-batch-jobs" title="Notes on Batch Jobs" class="md-nav__link">
    Notes on Batch Jobs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-problems" title="Common Problems" class="md-nav__link">
    Common Problems
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/APTrust/dart/edit/master/docs/users/workflows/batch_jobs.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="batch-jobs">Batch Jobs</h1>
<p>Batch jobs allow you to define a series of jobs in a spreadsheet and then run all of the jobs through the same workflow. Note that a <a href="../">workflow</a> typically includes a BagIt profile, often with default tag values already filled in, and one or more upload targets.</p>
<p>When you run a batch of jobs through a workflow, all steps of that workflow are
applied to every item in the batch. For example, that could mean bagging up
1000 directories using the APTrust BagIt profile and sending them all to APTrust's
demo or production environment.</p>
<p>Batch jobs are not limited to APTrust. Your bags can conform to any BagIt profile
and be uploaded to any SFTP or S3-compliant server.</p>
<h2 id="batch-spreadsheet-requirements">Batch Spreadsheet Requirements</h2>
<p>Your spreadsheet must meet the following requirements:</p>
<ol>
<li>The first line <strong>must</strong> contain column names.</li>
<li>The sheet <strong>must</strong> contain the following columns:<ul>
<li><strong>Bag-Name</strong> - The name of the bag you wish to create.</li>
<li><strong>Root-Directory</strong> - The absolute path to the directory containing the files
  you want to bag.</li>
</ul>
</li>
<li>You <strong>must</strong> include one column for each required tag in tag in your workflow's
   BagIt profile. The column header for each tag <strong>must</strong> be in the format
   <code>tag_file_name.txt/tag-name</code>. For example, <code>bag-info.txt/Source-Organization</code>,
   or <code>aptrust-info.txt/Storage-Option</code>.</li>
<li>Your file <em>may</em> omit tags whose default values are already defined in your BagIt
   profile. (See <a href="../bagit/customizing/#editing-a-tag">Customizing a Tag</a> for
   more info on how to set default tag values in your bagging profiles.)</li>
<li>Your file <em>may</em> include extra tags not defined in your workflow's BagIt
   profile. For example, if you include a column named <code>bag-info.txt/Custom-Tag</code>,
   DART will add the tag <code>Custom-Tag</code> to the <code>bag-info.txt</code> file of each bag,
   along with the value specified in that bag's row. Adding
   <code>custom-tag-file.txt/My-Tag</code> will cause DART to create a tag file for each
   bag called <code>custom-tag-file.txt</code> and add <code>My-Tag</code> to it, along with the
   appropriate value.</li>
<li>You <strong>must</strong> save your spreadsheet as a CSV (comma separated value) file so
   DART can read it. Both Microsoft Excel and Google Sheets can export to CSV
   format.</li>
</ol>
<h3 id="example-spreadsheet">Example Spreadsheet</h3>
<p>The sample spreadsheet below defines a batch job to bag up DART source files.
Note that it includes definitions for tags required by the APTrust BagIt profile,
including the Source-Organization tag in bag-info.txt and the Title, Description,
Access, and Storage-Option tags in aptrust-info.txt.</p>
<p>Use the right and left arrow keys to scroll sideways in the sheet. You'll see a
custom tag at the end called <code>bag-info.txt/Custom-Tag</code>. This tag is not defined
in any BagIt profile, but DART will add it to all the bags in the batch and the
bag will still be valid because BagIt profiles define only what <strong>must</strong> be
present and do not prohibit what <strong>may</strong> be present.</p>
<iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vT4ZZGsqtba_id15vlLVo0IlS3WND65Ty5A6nD5sDfmO97LJEa5pIwlsKvLazfG97MxyYMVR2Ry4Put/pubhtml?gid=710855240&amp;single=true&amp;widget=true&amp;headers=false" width="100%" height="300"></iframe>

<h2 id="running-a-batch-job">Running a Batch Job</h2>
<p>1. Choose <strong>Run Batch</strong> from the <strong>Workflows</strong> menu.</p>
<p><img alt="Run Batch" src="../../../img/workflows/batch_menu.png" /></p>
<p>2. Select a Workflow from the list and choose a CSV file. The image below
shows the <code>Send to Staging</code> workflow and the CSV file <code>/Users/apd4n/Desktop/test_batch.csv</code>.</p>
<p><img alt="Choose Workflow and CSV file" src="../../../img/workflows/batch_settings.png" /></p>
<p>3. Click the <strong>Run</strong> button. DART will show the progress of each job as it runs,
and will show the outcome of each job as it completes. In the image below, all
nine jobs completed successfully.</p>
<p><img alt="Completed Workflow" src="../../../img/workflows/batch_complete.png" /></p>
<h2 id="notes-on-batch-jobs">Notes on Batch Jobs</h2>
<ol>
<li>DART runs each job in a batch as a separate process.</li>
<li>DART runs jobs one at a time because bagging involves a lot of disk reads
   and writes.</li>
<li>If you try to run a job with an invalid workflow, or your CSV file points
   to directories and files that don't exist, DART will display the errors
   and will not run the batch.</li>
<li>Individual jobs within the batch may fail. The most common reason for failure
   is lack of file permissions on one or more files to be bagged. If a job fails,
   DART will display the reason for failure and will continue running the other
   jobs in the batch.</li>
<li>You must stay on the Workflow Batch screen until all jobs in the batch are
   complete. If you navigate away from that screen, DART will complete the
   currently-running job but will not run the remaning jobs in the CSV file.</li>
</ol>
<h2 id="common-problems">Common Problems</h2>
<ol>
<li>
<p>DART complains about missing or empty values in the CSV file.</p>
<p>First, make sure the values are actually present in the file.</p>
<p>Excel sometimes exports a number of empty rows at the end of a CSV file.
If DART complains about missing values, open the CSV file in a text editor
and delete the empty rows. These often appear as lines containing nothing
but commas.</p>
</li>
<li>
<p>DART says required tag values are missing, but they appear to be in the
   CSV file.</p>
<p>Make sure the column headers are correct. A common error is to have headers
like <code>bag-info/Source-Organization</code> instead of
<code>bag-info.txt/Source-Organization</code>. The <code>.txt</code> is required to match the
tag from the CSV file to the tag in your workflow's BagIt profile.
You should also ensure that capitalization and hyphenation match.</p>
</li>
<li>
<p>DART says a job failed because of <code>EACCESS Cannot read &lt;some file&gt;</code>.</p>
<p>Check the file permissions on the file DART complained about. Although
you may have read permissions on most of the files you're trying to bag,
you may be lacking permissions on one or two. That's enough to cause the
job to fail. If you're bagging files from a shared network drive, you
may have to ask a system administrator for help in setting file permissions.</p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Batch jobs are new in DART 2.0.9 (released July 24, 2020). If you find bugs,
please report them to
the <a href="https://github.com/APTrust/dart/issues">DART GitHub repostory</a> or to
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#104;&#101;&#108;&#112;&#64;&#97;&#112;&#116;&#114;&#117;&#115;&#116;&#46;&#111;&#114;&#103;">&#104;&#101;&#108;&#112;&#64;&#97;&#112;&#116;&#114;&#117;&#115;&#116;&#46;&#111;&#114;&#103;</a>.</p>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../job_params/" title="Job Params" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Job Params
              </span>
            </div>
          </a>
        
        
          <a href="../../settings/" title="Settings" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Settings
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
    
  </body>
</html>